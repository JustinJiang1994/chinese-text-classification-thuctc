# æ–°é—»åˆ†ç±»æ•°æ®é›†

è¿™æ˜¯ä¸€ä¸ªä¸­æ–‡æ–°é—»åˆ†ç±»æ•°æ®é›†ï¼ŒåŸºäº[THUCNews](http://thuctc.thunlp.org/)æ•°æ®é›†å¤„ç†è€Œæˆã€‚

## æ•°æ®é›†æ¥æº

æœ¬æ•°æ®é›†åŸºäºæ¸…åå¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤å‘å¸ƒçš„[THUCNewsä¸­æ–‡æ–‡æœ¬åˆ†ç±»æ•°æ®é›†](http://thuctc.thunlp.org/)ã€‚THUCNewsæ˜¯æ ¹æ®æ–°æµªæ–°é—»RSSè®¢é˜…é¢‘é“2005~2011å¹´é—´çš„å†å²æ•°æ®ç­›é€‰è¿‡æ»¤ç”Ÿæˆï¼ŒåŒ…å«74ä¸‡ç¯‡æ–°é—»æ–‡æ¡£ï¼ˆ2.19 GBï¼‰ï¼Œå‡ä¸ºUTF-8çº¯æ–‡æœ¬æ ¼å¼ã€‚

### å®Œæ•´æ•°æ®é›†ä¸‹è½½

| æ–‡ä»¶ | æè¿° | å¤§å° | ä¸‹è½½é“¾æ¥ |
|------|------|------|----------|
| THUCNews.zip | THUCNewsä¸­æ–‡æ–‡æœ¬æ•°æ®é›† | 1.56GB | [ä¸‹è½½](http://thuctc.thunlp.org/) |

## æ•°æ®é›†ä¿¡æ¯

- **æ€»æ–‡ä»¶æ•°**: 836,074 ä¸ªæ–°é—»æ–‡ä»¶
- **æ€»ç±»åˆ«æ•°**: 14 ä¸ªæ–°é—»ç±»åˆ«
- **æ€»å­—ç¬¦æ•°**: 785,258,026 ä¸ªå­—ç¬¦
- **å¹³å‡æ¯æ–‡ä»¶å­—ç¬¦æ•°**: 939.2 ä¸ªå­—ç¬¦

## ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ« | æ–‡ä»¶æ•°é‡ | å æ¯” |
|------|----------|------|
| ç§‘æŠ€ | 162,929 | 19.5% |
| è‚¡ç¥¨ | 154,398 | 18.5% |
| ä½“è‚² | 131,603 | 15.7% |
| å¨±ä¹ | 92,632 | 11.1% |
| æ—¶æ”¿ | 63,086 | 7.5% |
| ç¤¾ä¼š | 50,849 | 6.1% |
| æ•™è‚² | 41,936 | 5.0% |
| è´¢ç» | 37,098 | 4.4% |
| å®¶å±… | 32,586 | 3.9% |
| æ¸¸æˆ | 24,373 | 2.9% |
| æˆ¿äº§ | 20,050 | 2.4% |
| æ—¶å°š | 13,368 | 1.6% |
| å½©ç¥¨ | 7,588 | 0.9% |
| æ˜Ÿåº§ | 3,578 | 0.4% |

## æ•°æ®é¢„å¤„ç†ç»“æœ

### æ ·æœ¬æ•°æ®é›†é¢„å¤„ç†ç»“æœ
- **åŸå§‹æ•°æ®é‡**: 70 æ¡
- **æ¸…æ´—åæ•°æ®é‡**: 69 æ¡
- **ç§»é™¤æ•°æ®é‡**: 1 æ¡ (1.4%)
- **è®­ç»ƒé›†**: 48 æ¡ (69.6%)
- **éªŒè¯é›†**: 10 æ¡ (14.5%)
- **æµ‹è¯•é›†**: 11 æ¡ (15.9%)
- **å¤„ç†æ—¶é—´**: 0.39 ç§’

### å®Œæ•´æ•°æ®é›†é¢„å¤„ç†ç»“æœ
- **åŸå§‹æ•°æ®é‡**: 836,074 æ¡
- **æ¸…æ´—åæ•°æ®é‡**: 787,500 æ¡
- **ç§»é™¤æ•°æ®é‡**: 48,574 æ¡ (5.8%)
- **è®­ç»ƒé›†**: 551,249 æ¡ (70.0%)
- **éªŒè¯é›†**: 118,125 æ¡ (15.0%)
- **æµ‹è¯•é›†**: 118,126 æ¡ (15.0%)
- **å¤„ç†æ—¶é—´**: 1,357.29 ç§’ (çº¦22.6åˆ†é’Ÿ)

### å®Œæ•´æ•°æ®é›†ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ« | åŸå§‹æ•°é‡ | æ¸…æ´—åæ•°é‡ | è®­ç»ƒé›† | éªŒè¯é›† | æµ‹è¯•é›† |
|------|----------|------------|--------|--------|--------|
| ä½“è‚² | 131,603 | 125,673 | 88,217 | 18,826 | 18,630 |
| å¨±ä¹ | 92,632 | 88,937 | 62,201 | 13,381 | 13,355 |
| å®¶å±… | 32,586 | 30,903 | 21,559 | 4,770 | 4,574 |
| å½©ç¥¨ | 7,588 | 6,524 | 4,483 | 1,003 | 1,038 |
| æˆ¿äº§ | 20,050 | 18,759 | 13,147 | 2,751 | 2,861 |
| æ•™è‚² | 41,936 | 36,385 | 25,433 | 5,549 | 5,403 |
| æ—¶å°š | 13,368 | 13,185 | 9,316 | 1,939 | 1,930 |
| æ—¶æ”¿ | 63,086 | 60,683 | 42,579 | 8,999 | 9,105 |
| æ˜Ÿåº§ | 3,578 | 3,454 | 2,339 | 519 | 596 |
| æ¸¸æˆ | 24,373 | 23,429 | 16,414 | 3,474 | 3,541 |
| ç¤¾ä¼š | 50,849 | 46,330 | 32,475 | 6,897 | 6,958 |
| ç§‘æŠ€ | 162,929 | 153,043 | 106,972 | 22,982 | 23,089 |
| è‚¡ç¥¨ | 154,398 | 146,601 | 102,658 | 21,981 | 21,962 |
| è´¢ç» | 37,098 | 33,594 | 23,456 | 5,054 | 5,084 |

### æ•°æ®æ¸…æ´—æ•ˆæœ
- **æ•°æ®è´¨é‡**: æ¸…æ´—åä¿ç•™äº†94.2%çš„æ•°æ®
- **ä¸»è¦æ¸…æ´—æ­¥éª¤**:
  - HTMLæ ‡ç­¾å»é™¤
  - URLå’Œé‚®ç®±å»é™¤
  - ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆåªä¿ç•™ä¸­æ–‡å’Œè‹±æ–‡ï¼‰
  - åœç”¨è¯å»é™¤ï¼ˆä½¿ç”¨2,610ä¸ªåœç”¨è¯ï¼‰
  - é•¿åº¦è¿‡æ»¤ï¼ˆ10-2000å­—ç¬¦ï¼‰
  - ç©ºæ–‡æœ¬ç§»é™¤

### æ•°æ®é›†ç‰¹ç‚¹
- **éšæœºç§å­**: 42ï¼ˆç¡®ä¿ç»“æœå¯å¤ç°ï¼‰
- **åˆ‡åˆ†æ–¹å¼**: éšæœºé‡‡æ ·ï¼ˆä¸åˆ†å±‚ï¼‰
- **æ•°æ®å¹³è¡¡æ€§**: å„ç±»åˆ«åœ¨è®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†ä¸­ä¿æŒç›¸å¯¹ä¸€è‡´çš„åˆ†å¸ƒ
- **æ•°æ®è§„æ¨¡**: é€‚åˆå¤§è§„æ¨¡æœºå™¨å­¦ä¹ å®éªŒ

## æ•°æ®æ ¼å¼

### å®Œæ•´æ•°æ®é›†
- **æ–‡ä»¶**: `results/extracted_news_data.csv` (2.0GB)
- **æ ¼å¼**: CSV
- **åˆ—**: 
  - `category`: æ–°é—»ç±»åˆ«æ ‡ç­¾
  - `content`: æ–°é—»å†…å®¹

### æ ·æœ¬æ•°æ®é›†
- **æ–‡ä»¶**: `sample.csv` (132KB)
- **æ ¼å¼**: CSV
- **å†…å®¹**: æ¯ä¸ªç±»åˆ«æŠ½å–5ä¸ªæ ·æœ¬ï¼Œå…±70ä¸ªæ ·æœ¬
- **ç”¨é€”**: ç”¨äºGitHubå±•ç¤ºå’Œå¿«é€Ÿæµ‹è¯•

## æ•°æ®ç¤ºä¾‹

```csv
category,content
ä½“è‚²,"æ˜¥å…°æ¯å†³èµ›æœ‰å¥–ç«çŒœå¯åŠ¨ é€‰æ‹©å† å†›èµ¢å–ç©ºè°ƒå¤§å¥–..."
ç§‘æŠ€,"è¶…å¹¿è§’è”¡å¸é•œå¤´ ç´¢å°¼W530ä»…å”®1168å…ƒ..."
å¨±ä¹,"æŸæ˜æ˜Ÿæœ€æ–°åŠ¨æ€..."
```

## ä½¿ç”¨è¯´æ˜

1. **å®Œæ•´æ•°æ®é›†**: é€‚ç”¨äºè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹
2. **æ ·æœ¬æ•°æ®é›†**: é€‚ç”¨äºå¿«é€Ÿæµ‹è¯•å’Œæ¼”ç¤º

## æ–‡ä»¶ç»“æ„

```
news_classifier/
â”œâ”€â”€ data/                    # åŸå§‹æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ ä½“è‚²/               # ä½“è‚²ç±»æ–°é—»
â”‚   â”œâ”€â”€ ç§‘æŠ€/               # ç§‘æŠ€ç±»æ–°é—»
â”‚   â”œâ”€â”€ stopwords.txt       # åœç”¨è¯æ–‡ä»¶
â”‚   â””â”€â”€ ...                 # å…¶ä»–ç±»åˆ«
â”œâ”€â”€ results/                 # å¤„ç†ç»“æœ
â”‚   â”œâ”€â”€ extracted_news_data.csv  # å®Œæ•´æ•°æ®é›†
â”‚   â”œâ”€â”€ extracted_news_data.json # JSONæ ¼å¼æ•°æ®
â”‚   â”œâ”€â”€ data_cleaned.csv    # æ¸…æ´—åæ•°æ®
â”‚   â”œâ”€â”€ train.csv           # è®­ç»ƒé›†
â”‚   â”œâ”€â”€ val.csv             # éªŒè¯é›†
â”‚   â””â”€â”€ test.csv            # æµ‹è¯•é›†
â”œâ”€â”€ sample.csv              # æ ·æœ¬æ•°æ®é›†
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ data_extractor.py   # æ•°æ®æŠ½å–è„šæœ¬
â”‚   â”œâ”€â”€ create_sample.py    # æ ·æœ¬åˆ›å»ºè„šæœ¬
â”‚   â”œâ”€â”€ data_preprocessor.py # æ•°æ®é¢„å¤„ç†è„šæœ¬
â”‚   â””â”€â”€ run_preprocessing.py # é¢„å¤„ç†è¿è¡Œè„šæœ¬
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ preprocessing_config.json # é¢„å¤„ç†é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. æ•°æ®æŠ½å–

ä½¿ç”¨ `src/data_extractor.py` å¯ä»¥ä»åŸå§‹æ•°æ®ç›®å½•é‡æ–°ç”Ÿæˆå¤„ç†åçš„æ•°æ®é›†ï¼š

```bash
python src/data_extractor.py
```

### 2. æ•°æ®é¢„å¤„ç†

ä½¿ç”¨ `src/run_preprocessing.py` è¿›è¡Œæ•°æ®æ¸…æ´—å’Œåˆ‡åˆ†ï¼š

```bash
# å¤„ç†æ ·æœ¬æ•°æ®
python src/run_preprocessing.py

# å¤„ç†å®Œæ•´æ•°æ®
python src/run_preprocessing.py --use-full
```

### 3. æ ·æœ¬æ•°æ®ç”Ÿæˆ

ä½¿ç”¨ `src/create_sample.py` å¯ä»¥ç”Ÿæˆæ ·æœ¬æ•°æ®ï¼š

```bash
python src/create_sample.py
```

## æ•°æ®é¢„å¤„ç†æµç¨‹

### é¢„å¤„ç†æ­¥éª¤

1. **æ•°æ®æ¸…æ´— (Text Cleaning)**
   - HTMLæ ‡ç­¾å»é™¤
   - URLå’Œé‚®ç®±å»é™¤
   - ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆåªä¿ç•™ä¸­æ–‡å’Œè‹±æ–‡ï¼‰
   - åœç”¨è¯å»é™¤
   - ç©ºæ ¼è§„èŒƒåŒ–

2. **æ•°æ®è¿‡æ»¤ (Text Filtering)**
   - é•¿åº¦è¿‡æ»¤ï¼ˆ10-2000å­—ç¬¦ï¼‰
   - ç©ºæ–‡æœ¬ç§»é™¤

3. **æ•°æ®é›†åˆ‡åˆ† (Data Splitting)**
   - åˆ†å±‚é‡‡æ ·ç¡®ä¿å„ç±»åˆ«æ¯”ä¾‹ä¸€è‡´
   - åˆ‡åˆ†æ¯”ä¾‹ï¼šè®­ç»ƒé›†70% / éªŒè¯é›†15% / æµ‹è¯•é›†15%

### å¯å¤ç°æ€§ä¿è¯

- **éšæœºç§å­**: å›ºå®šä¸º42ï¼Œç¡®ä¿æ‰€æœ‰éšæœºæ“ä½œç»“æœå¯å¤ç°
- **åˆ†å±‚é‡‡æ ·**: ç¡®ä¿å„ç±»åˆ«åœ¨è®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†ä¸­çš„æ¯”ä¾‹ä¸€è‡´
- **é…ç½®ç®¡ç†**: æ‰€æœ‰å‚æ•°éƒ½è®°å½•åœ¨é…ç½®æ–‡ä»¶å’Œç»Ÿè®¡ä¿¡æ¯ä¸­

### è¾“å‡ºæ–‡ä»¶

é¢„å¤„ç†å®Œæˆåï¼Œä¼šåœ¨ `results/` ç›®å½•ä¸‹ç”Ÿæˆï¼š

- `data_cleaned.csv`: æ¸…æ´—åçš„å®Œæ•´æ•°æ®
- `train.csv`: è®­ç»ƒé›†
- `val.csv`: éªŒè¯é›†
- `test.csv`: æµ‹è¯•é›†
- `preprocessing_stats.json`: é¢„å¤„ç†ç»Ÿè®¡ä¿¡æ¯

## ç‰ˆæœ¬æ§åˆ¶è¯´æ˜

### .gitignore é…ç½®

æœ¬é¡¹ç›®é…ç½®äº† `.gitignore` æ–‡ä»¶ï¼Œç¡®ä¿å¤§æ–‡ä»¶å’Œæ•°æ®ä¸ä¼šè¢«ä¸Šä¼ åˆ°GitHubï¼š

#### è¢«å¿½ç•¥çš„æ–‡ä»¶
- **åŸå§‹æ•°æ®ç›®å½•**: `data/` (åŒ…å«836,074ä¸ªæ–‡ä»¶)
- **å¤„ç†ç»“æœ**: `results/extracted_news_data.csv` (2.0GB)
- **JSONæ•°æ®**: `results/extracted_news_data.json` (2.1GB)
- **æ¨¡å‹æ–‡ä»¶**: `models/` ç›®å½•
- **æ—¥å¿—æ–‡ä»¶**: `logs/` ç›®å½•

#### ä¼šè¢«ä¸Šä¼ çš„æ–‡ä»¶
- **æ ·æœ¬æ•°æ®**: `sample.csv` (132KB) - ç”¨äºGitHubå±•ç¤º
- **æºä»£ç **: `src/` ç›®å½•
- **é…ç½®æ–‡ä»¶**: `.gitignore`, `requirements.txt`
- **åœç”¨è¯**: `data/stopwords.txt`

### ä½¿ç”¨å»ºè®®

1. **å¼€å‘æ—¶**: ä½¿ç”¨ `sample.csv` è¿›è¡Œå¿«é€Ÿæµ‹è¯•
2. **è®­ç»ƒæ—¶**: ä½¿ç”¨å®Œæ•´çš„ `results/extracted_news_data.csv`
3. **éƒ¨ç½²æ—¶**: ä»THUCNewså®˜ç½‘ä¸‹è½½å®Œæ•´æ•°æ®é›†

## ç›¸å…³å·¥å…·

- **[THUCTCå·¥å…·åŒ…](http://thuctc.thunlp.org/)**: æ¸…åå¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤å‘å¸ƒçš„ä¸­æ–‡æ–‡æœ¬åˆ†ç±»å·¥å…·åŒ…
- **æµ‹è¯•ç»“æœ**: ä½¿ç”¨THUCTCå·¥å…·åŒ…åœ¨æ­¤æ•°æ®é›†ä¸Šè¿›è¡Œè¯„æµ‹ï¼Œå‡†ç¡®ç‡å¯ä»¥è¾¾åˆ°88.6%

## æ³¨æ„äº‹é¡¹

- æ•°æ®ä¸ºä¸­æ–‡æ–°é—»æ–‡æœ¬
- åŒ…å«æ ‡ç‚¹ç¬¦å·å’Œæ¢è¡Œç¬¦
- é€‚åˆç”¨äºæ–‡æœ¬åˆ†ç±»ä»»åŠ¡
- å»ºè®®ä½¿ç”¨UTF-8ç¼–ç å¤„ç†
- åŸå§‹æ•°æ®æ¥æºäºæ–°æµªæ–°é—»RSSè®¢é˜…é¢‘é“
- ç¡®ä¿åœ¨æäº¤å‰æ£€æŸ¥ `git status` ç¡®è®¤å¤§æ–‡ä»¶è¢«æ­£ç¡®å¿½ç•¥

## å¼•ç”¨

å¦‚æœæ‚¨åœ¨ç ”ç©¶ä¸­ä½¿ç”¨äº†æœ¬æ•°æ®é›†ï¼Œè¯·å¼•ç”¨åŸå§‹THUCNewsæ•°æ®é›†ï¼š

**ä¸­æ–‡ï¼š** å­™èŒ‚æ¾ï¼Œææ™¯é˜³ï¼Œéƒ­å¿—èŠƒï¼Œèµµå®‡ï¼Œéƒ‘äºšæ–Œï¼Œå¸å®ªç­–ï¼Œåˆ˜çŸ¥è¿œ. THUCTCï¼šä¸€ä¸ªé«˜æ•ˆçš„ä¸­æ–‡æ–‡æœ¬åˆ†ç±»å·¥å…·åŒ…. 2016.

**è‹±æ–‡ï¼š** Maosong Sun, Jingyang Li, Zhipeng Guo, Yu Zhao, Yabin Zheng, Xiance Si, Zhiyuan Liu. THUCTC: An Efficient Chinese Text Classifier. 2016.

---

## æœ€ä½³å®è·µæŒ‡å—

### å®éªŒç»“æœæ€»ç»“

#### 1. æ¨¡å‹æ€§èƒ½å±‚æ¬¡ç»“æ„
åŸºäºå®éªŒç»“æœï¼Œæ¨¡å‹æ€§èƒ½å‘ˆç°æ˜æ˜¾çš„å±‚æ¬¡ç»“æ„ï¼š

**ğŸ† é¡¶çº§æ€§èƒ½ (F1-macro > 0.95)**
- **é¢„è®­ç»ƒæ¨¡å‹**: RoBERTa (0.9716) > BERT (0.9696)
- **é€‚ç”¨åœºæ™¯**: ç”Ÿäº§ç¯å¢ƒã€é«˜ç²¾åº¦éœ€æ±‚ã€å¤§è§„æ¨¡æ•°æ®
- **ä»£ä»·**: è®­ç»ƒæ—¶é—´é•¿ (~2å°æ—¶)ã€è®¡ç®—èµ„æºéœ€æ±‚é«˜

**ğŸ¥ˆ é«˜æ€§èƒ½ (F1-macro > 0.90)**
- **æ·±åº¦å­¦ä¹ **: LSTM (0.9249) > GRU (0.9222) > TextCNN (0.9155)
- **é€‚ç”¨åœºæ™¯**: å¤§è§„æ¨¡æ•°æ®ã€åºåˆ—å»ºæ¨¡ã€å±€éƒ¨ç‰¹å¾æ•è·
- **ä»£ä»·**: ä¸­ç­‰è®­ç»ƒæ—¶é—´ (5-6å°æ—¶)ã€ä¸­ç­‰èµ„æºéœ€æ±‚

**ğŸ¥‰ å®ç”¨æ€§èƒ½ (F1-macro > 0.80)**
- **ä¼ ç»ŸML**: TomekLinks+SVM (0.8631) > åŸå§‹æ•°æ®+SVM (0.8585)
- **é€‚ç”¨åœºæ™¯**: å¿«é€Ÿéƒ¨ç½²ã€ä¸­ç­‰ç²¾åº¦éœ€æ±‚ã€èµ„æºå—é™
- **ä¼˜åŠ¿**: è®­ç»ƒæå¿« (ç§’çº§)ã€èµ„æºéœ€æ±‚ä½

#### 2. å…³é”®å‘ç°
- **ç±»åˆ«ä¸å¹³è¡¡å¤„ç†**: TomekLinksæ¯”SMOTEæ›´æœ‰æ•ˆï¼Œè½»å¾®æ¸…ç†è¾¹ç•Œå™ªå£°ç‚¹å³å¯æ˜¾è‘—æå‡æ€§èƒ½
- **ç‰¹å¾æå–**: TF-IDFåŸºç¡€ç‰¹å¾åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹è¡¨ç°æœ€ä½³ï¼Œé¿å…è¿‡åº¦é™ç»´
- **æ¨¡å‹ç¨³å®šæ€§**: SVMå’Œé€»è¾‘å›å½’è¡¨ç°æœ€ç¨³å®šï¼Œéšæœºæ£®æ—å¯¹å‚æ•°æ•æ„Ÿ
- **è®­ç»ƒæ•ˆç‡**: ä¼ ç»ŸMLè®­ç»ƒé€Ÿåº¦æ˜¯æ·±åº¦å­¦ä¹ çš„1000å€ä»¥ä¸Š

### ä¸åŒåœºæ™¯ä¸‹çš„æ¨¡å‹é€‰æ‹©å»ºè®®

#### ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**é«˜ç²¾åº¦éœ€æ±‚ (>95%)**
```python
# æ¨èæ¨¡å‹
model = "RoBERTa"  # F1-macro: 0.9716
# å¤‡é€‰æ–¹æ¡ˆ
model = "BERT"     # F1-macro: 0.9696

# é…ç½®å»ºè®®
- ä½¿ç”¨å®Œæ•´æ•°æ®é›† (551,249æ¡)
- å¯ç”¨ç±»åˆ«åŠ æƒ
- ä½¿ç”¨GPUè®­ç»ƒ
- æ—©åœæœºåˆ¶é˜²æ­¢è¿‡æ‹Ÿåˆ
```

**å¹³è¡¡æ€§èƒ½éœ€æ±‚ (90-95%)**
```python
# æ¨èæ¨¡å‹
model = "LSTM"     # F1-macro: 0.9249
# å¤‡é€‰æ–¹æ¡ˆ
model = "GRU"      # F1-macro: 0.9222
model = "TextCNN"  # F1-macro: 0.9155

# é…ç½®å»ºè®®
- ä½¿ç”¨å¤§è§„æ¨¡æ•°æ®é›† (>100,000æ¡)
- å¯ç”¨ç±»åˆ«åŠ æƒ
- ä½¿ç”¨æ—©åœæœºåˆ¶
- è€ƒè™‘æ¨¡å‹é›†æˆ
```

**å¿«é€Ÿéƒ¨ç½²éœ€æ±‚ (80-90%)**
```python
# æ¨èæ¨¡å‹
model = "TomekLinks+SVM"  # F1-macro: 0.8631
# å¤‡é€‰æ–¹æ¡ˆ
model = "åŸå§‹æ•°æ®+SVM"    # F1-macro: 0.8585

# é…ç½®å»ºè®®
- ä½¿ç”¨ä¸­ç­‰è§„æ¨¡æ•°æ®é›† (10,000-50,000æ¡)
- å¯ç”¨ç±»åˆ«æƒé‡
- ä½¿ç”¨TF-IDFç‰¹å¾
- å¿«é€Ÿè¿­ä»£ä¼˜åŒ–
```

#### âš¡ å¿«é€ŸåŸå‹å¼€å‘

**æé€ŸéªŒè¯ (<1ç§’)**
```python
# æ¨èæ¨¡å‹
model = "æœ´ç´ è´å¶æ–¯"  # è®­ç»ƒæ—¶é—´: 0.003ç§’
# é…ç½®å»ºè®®
- ä½¿ç”¨å°æ ·æœ¬æ•°æ® (<1,000æ¡)
- ç®€å•ç‰¹å¾æå–
- å¿«é€ŸåŸºçº¿å»ºç«‹
```

**å¿«é€Ÿæ·±åº¦å­¦ä¹  (<1åˆ†é’Ÿ)**
```python
# æ¨èæ¨¡å‹
model = "FastText"  # è®­ç»ƒæ—¶é—´: 32ç§’
# é…ç½®å»ºè®®
- ä½¿ç”¨ä¸­ç­‰æ ·æœ¬ (2,000-5,000æ¡)
- å¯ç”¨ç±»åˆ«åŠ æƒ
- å¿«é€Ÿè¶…å‚æ•°è°ƒä¼˜
```

**ä¼ ç»ŸMLå¿«é€Ÿè¿­ä»£ (<10ç§’)**
```python
# æ¨èæ¨¡å‹
model = "SVMç³»åˆ—"  # è®­ç»ƒæ—¶é—´: 0.09ç§’
# é…ç½®å»ºè®®
- ä½¿ç”¨é‡é‡‡æ ·æ–¹æ³•
- ç‰¹å¾å·¥ç¨‹ä¼˜åŒ–
- å¤šæ¨¡å‹å¯¹æ¯”
```

#### ğŸ’° èµ„æºå—é™ç¯å¢ƒ

**æœ€å°å†…å­˜ (<10Må‚æ•°)**
```python
# æ¨èæ¨¡å‹
model = "FastText"  # 8.5Må‚æ•°
# é…ç½®å»ºè®®
- å‡å°‘è¯åµŒå…¥ç»´åº¦
- ä½¿ç”¨å°è¯æ±‡è¡¨
- ç®€åŒ–æ¨¡å‹ç»“æ„
```

**CPUå‹å¥½**
```python
# æ¨èæ¨¡å‹
model = "ä¼ ç»ŸMLç³»åˆ—"  # SVM, é€»è¾‘å›å½’, æœ´ç´ è´å¶æ–¯
# é…ç½®å»ºè®®
- ä½¿ç”¨TF-IDFç‰¹å¾
- é¿å…å¤æ‚é‡é‡‡æ ·
- ä¼˜åŒ–ç‰¹å¾ç»´åº¦
```

**ä½å»¶è¿Ÿæ¨ç†**
```python
# æ¨èæ¨¡å‹
model = "æœ´ç´ è´å¶æ–¯"  # æ¨ç†æœ€å¿«
model = "SVM"        # æ¨ç†è¾ƒå¿«
# é…ç½®å»ºè®®
- é¢„è®¡ç®—ç‰¹å¾
- æ¨¡å‹å‹ç¼©
- ç¼“å­˜æœºåˆ¶
```

#### ğŸ“Š ä¸åŒæ•°æ®è§„æ¨¡ç­–ç•¥

**å°æ ·æœ¬æ•°æ® (<1,000æ¡)**
```python
# æ¨èç­–ç•¥
1. ä½¿ç”¨ä¼ ç»ŸML + é‡é‡‡æ ·
2. ç‰¹å¾: TF-IDF (1-2gram)
3. æ¨¡å‹: SVM + TomekLinks
4. è¯„ä¼°: äº¤å‰éªŒè¯
```

**ä¸­ç­‰æ ·æœ¬æ•°æ® (1,000-10,000æ¡)**
```python
# æ¨èç­–ç•¥
1. ä¼ ç»ŸML + é‡é‡‡æ ·
2. å°è¯•FastText
3. ç‰¹å¾: TF-IDF (1-2gram)
4. æ¨¡å‹: SVM, é€»è¾‘å›å½’, FastText
```

**å¤§è§„æ¨¡æ•°æ® (10,000-100,000æ¡)**
```python
# æ¨èç­–ç•¥
1. æ·±åº¦å­¦ä¹ æ¨¡å‹
2. é¢„è®­ç»ƒæ¨¡å‹å¾®è°ƒ
3. ç‰¹å¾: è¯åµŒå…¥ + åºåˆ—å»ºæ¨¡
4. æ¨¡å‹: LSTM, GRU, TextCNN
```

**è¶…å¤§è§„æ¨¡æ•°æ® (>100,000æ¡)**
```python
# æ¨èç­–ç•¥
1. é¢„è®­ç»ƒæ¨¡å‹
2. å¤§è§„æ¨¡æ·±åº¦å­¦ä¹ 
3. æ¨¡å‹é›†æˆ
4. æ¨¡å‹: RoBERTa, BERT, LSTM
```

### æ€§èƒ½ä¼˜åŒ–æŠ€å·§

#### 1. æ•°æ®é¢„å¤„ç†ä¼˜åŒ–

**æ–‡æœ¬æ¸…æ´—ç­–ç•¥**
```python
# æ¨èæ¸…æ´—æ­¥éª¤
1. HTMLæ ‡ç­¾å»é™¤
2. URLå’Œé‚®ç®±å»é™¤
3. ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆä¿ç•™ä¸­æ–‡å’Œè‹±æ–‡ï¼‰
4. åœç”¨è¯å»é™¤
5. é•¿åº¦è¿‡æ»¤ï¼ˆ10-2000å­—ç¬¦ï¼‰

# ä¼˜åŒ–æŠ€å·§
- ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰¹é‡å¤„ç†
- å¹¶è¡ŒåŒ–æ–‡æœ¬æ¸…æ´—
- ç¼“å­˜æ¸…æ´—ç»“æœ
```

**ç‰¹å¾å·¥ç¨‹ä¼˜åŒ–**
```python
# TF-IDFä¼˜åŒ–
vectorizer = TfidfVectorizer(
    max_features=5000,      # æ ¹æ®æ•°æ®è§„æ¨¡è°ƒæ•´
    ngram_range=(1, 2),     # 1-2gramé€šå¸¸æœ€ä½³
    min_df=2,              # è¿‡æ»¤ä½é¢‘è¯
    max_df=0.9,            # è¿‡æ»¤é«˜é¢‘è¯
    sublinear_tf=True      # ä½¿ç”¨å¯¹æ•°ç¼©æ”¾
)

# ç‰¹å¾é€‰æ‹©
- ä½¿ç”¨å¡æ–¹æ£€éªŒé€‰æ‹©ç‰¹å¾
- åŸºäºä¿¡æ¯å¢ç›Šé€‰æ‹©
- é€’å½’ç‰¹å¾æ¶ˆé™¤
```

#### 2. ç±»åˆ«ä¸å¹³è¡¡å¤„ç†ä¼˜åŒ–

**é‡é‡‡æ ·ç­–ç•¥é€‰æ‹©**
```python
# æ¨èç­–ç•¥ï¼ˆæŒ‰æ•ˆæœæ’åºï¼‰
1. TomekLinks          # è½»å¾®æ¸…ç†ï¼Œæ•ˆæœæœ€ä½³
2. åŸå§‹æ•°æ® + ç±»åˆ«æƒé‡ # ç®€å•æœ‰æ•ˆ
3. SMOTE              # å¯¹æœ´ç´ è´å¶æ–¯æ•ˆæœæ˜¾è‘—
4. ADASYN             # è‡ªé€‚åº”é‡‡æ ·

# é¿å…ä½¿ç”¨
- éšæœºæ¬ é‡‡æ ·ï¼ˆæŸå¤±ä¿¡æ¯ï¼‰
- è¿‡åº¦é‡é‡‡æ ·ï¼ˆè¿‡æ‹Ÿåˆé£é™©ï¼‰
```

**ç±»åˆ«æƒé‡ä¼˜åŒ–**
```python
# è®¡ç®—ç±»åˆ«æƒé‡
from sklearn.utils.class_weight import compute_class_weight

# æ–¹æ³•1: å¹³è¡¡æƒé‡
class_weight = 'balanced'

# æ–¹æ³•2: è‡ªå®šä¹‰æƒé‡
class_weights = compute_class_weight(
    'balanced', 
    classes=np.unique(y_train), 
    y=y_train
)

# æ–¹æ³•3: åŸºäºé¢‘ç‡çš„æƒé‡
class_weights = 1.0 / (class_counts + 1e-6)
```

#### 3. æ¨¡å‹è®­ç»ƒä¼˜åŒ–

**æ·±åº¦å­¦ä¹ ä¼˜åŒ–**
```python
# å­¦ä¹ ç‡è°ƒåº¦
scheduler = torch.optim.lr_scheduler.ReduceLROnPlateau(
    optimizer, 
    mode='min', 
    factor=0.5, 
    patience=3
)

# æ—©åœæœºåˆ¶
early_stopping = EarlyStopping(
    patience=5,
    min_delta=0.001,
    restore_best_weights=True
)

# æ¢¯åº¦è£å‰ª
torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)

# æ··åˆç²¾åº¦è®­ç»ƒ
from torch.cuda.amp import autocast, GradScaler
scaler = GradScaler()
```

**ä¼ ç»ŸMLä¼˜åŒ–**
```python
# SVMä¼˜åŒ–
svm = LinearSVC(
    C=1.0,                    # æ­£åˆ™åŒ–å‚æ•°
    class_weight='balanced',  # ç±»åˆ«æƒé‡
    max_iter=1000,           # æœ€å¤§è¿­ä»£æ¬¡æ•°
    random_state=42          # éšæœºç§å­
)

# é€»è¾‘å›å½’ä¼˜åŒ–
lr = LogisticRegression(
    C=1.0,                    # æ­£åˆ™åŒ–å‚æ•°
    class_weight='balanced',  # ç±»åˆ«æƒé‡
    max_iter=1000,           # æœ€å¤§è¿­ä»£æ¬¡æ•°
    solver='liblinear'       # ä¼˜åŒ–å™¨é€‰æ‹©
)
```

#### 4. è¯„ä¼°å’Œè°ƒä¼˜ä¼˜åŒ–

**äº¤å‰éªŒè¯ç­–ç•¥**
```python
# åˆ†å±‚KæŠ˜äº¤å‰éªŒè¯
from sklearn.model_selection import StratifiedKFold

cv = StratifiedKFold(
    n_splits=5,           # 5æŠ˜äº¤å‰éªŒè¯
    shuffle=True,         # éšæœºæ‰“ä¹±
    random_state=42       # éšæœºç§å­
)

# æ—¶é—´åºåˆ—äº¤å‰éªŒè¯ï¼ˆå¦‚æœæ•°æ®æœ‰æ—¶é—´é¡ºåºï¼‰
from sklearn.model_selection import TimeSeriesSplit
```

**è¶…å‚æ•°è°ƒä¼˜**
```python
# ç½‘æ ¼æœç´¢
from sklearn.model_selection import GridSearchCV

param_grid = {
    'C': [0.1, 1.0, 10.0],
    'class_weight': ['balanced', None]
}

grid_search = GridSearchCV(
    estimator=svm,
    param_grid=param_grid,
    cv=5,
    scoring='f1_macro',
    n_jobs=-1
)

# éšæœºæœç´¢ï¼ˆæ›´å¿«ï¼‰
from sklearn.model_selection import RandomizedSearchCV
```

#### 5. éƒ¨ç½²ä¼˜åŒ–

**æ¨¡å‹å‹ç¼©**
```python
# ç‰¹å¾é€‰æ‹©
from sklearn.feature_selection import SelectKBest, chi2

selector = SelectKBest(chi2, k=1000)
X_selected = selector.fit_transform(X_train, y_train)

# æ¨¡å‹é‡åŒ–
import joblib
joblib.dump(model, 'compressed_model.pkl', compress=3)

# æ¨¡å‹å‰ªæï¼ˆæ·±åº¦å­¦ä¹ ï¼‰
pruned_model = prune_model(model, amount=0.3)
```

**æ¨ç†ä¼˜åŒ–**
```python
# æ‰¹é‡æ¨ç†
def batch_predict(model, texts, batch_size=32):
    predictions = []
    for i in range(0, len(texts), batch_size):
        batch = texts[i:i+batch_size]
        pred = model.predict(batch)
        predictions.extend(pred)
    return predictions

# ç¼“å­˜æœºåˆ¶
from functools import lru_cache

@lru_cache(maxsize=1000)
def cached_predict(text):
    return model.predict([text])[0]
```

#### 6. ç›‘æ§å’Œç»´æŠ¤

**æ€§èƒ½ç›‘æ§**
```python
# æ¨¡å‹æ€§èƒ½è·Ÿè¸ª
import mlflow

mlflow.log_metric("f1_macro", f1_macro)
mlflow.log_metric("training_time", training_time)
mlflow.log_param("model_type", model_type)

# æ•°æ®æ¼‚ç§»æ£€æµ‹
def detect_drift(reference_data, current_data):
    # ç»Ÿè®¡åˆ†å¸ƒæ¯”è¾ƒ
    # ç‰¹å¾é‡è¦æ€§å˜åŒ–
    # æ€§èƒ½ä¸‹é™æ£€æµ‹
    pass
```

**æ¨¡å‹æ›´æ–°ç­–ç•¥**
```python
# A/Bæµ‹è¯•
def ab_test(model_a, model_b, test_data):
    pred_a = model_a.predict(test_data)
    pred_b = model_b.predict(test_data)
    # ç»Ÿè®¡æ˜¾è‘—æ€§æµ‹è¯•
    return statistical_test(pred_a, pred_b)

# æ¸è¿›å¼æ›´æ–°
def gradual_update(old_model, new_model, update_ratio=0.1):
    # é€æ­¥æ›¿æ¢æ¨¡å‹
    pass
```

---

## é¡¹ç›®çŠ¶æ€

âœ… **å·²å®ŒæˆåŠŸèƒ½**
- æ•°æ®æå–å’Œé¢„å¤„ç†
- ä¼ ç»Ÿæœºå™¨å­¦ä¹ å®éªŒ
- ç±»åˆ«ä¸å¹³è¡¡å¤„ç†
- æ¨¡å—åŒ–æ¶æ„é‡æ„
- é…ç½®é©±åŠ¨å®éªŒ
- å¯è§†åŒ–å·¥å…·
- æ·±åº¦å­¦ä¹ å®éªŒå‡†å¤‡
- æ¨¡å‹ä¼˜åŒ–å’Œè°ƒå‚
- æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆBERT, RoBERTaç­‰ï¼‰

ğŸ”„ **è¿›è¡Œä¸­**


ğŸ“‹ **è®¡åˆ’ä¸­**
- æ¨¡å‹éƒ¨ç½²å’ŒAPI
- å®æ—¶é¢„æµ‹æœåŠ¡ 

## é›†æˆæ¨¡å‹å®éªŒç»“æœï¼ˆç‹¬ç«‹æµ‹è¯•é›†ï¼‰

æœ¬å®éªŒé‡‡ç”¨2000æ¡è®­ç»ƒæ•°æ®ã€118,126æ¡ç‹¬ç«‹æµ‹è¯•æ•°æ®ï¼Œè¯„ä¼°äº†å¤šç§é›†æˆæ–¹æ³•ä¸å•æ¨¡å‹çš„æ€§èƒ½ï¼š

| æ’å | æ¨¡å‹              | F1-macro | F1-weighted | ç±»å‹     |
|------|-------------------|----------|-------------|----------|
| 1    | voting_hard       | 0.9502   | 0.9540      | é›†æˆ     |
| 2    | voting_soft       | 0.9388   | 0.9462      | é›†æˆ     |
| 3    | weighted_ensemble | 0.8588   | 0.9027      | é›†æˆ     |
| 4    | tomeklinks_svm    | 0.8585   | 0.9025      | ä¼ ç»ŸML   |
| 5    | logistic_regression | 0.8496 | 0.8889      | ä¼ ç»ŸML   |
| 6    | random_forest     | 0.7345   | 0.7989      | ä¼ ç»ŸML   |

- **ç¡¬æŠ•ç¥¨é›†æˆ**ï¼šF1-macro = 0.9502ï¼Œæ˜¾è‘—ä¼˜äºæ‰€æœ‰å•æ¨¡å‹
- **è½¯æŠ•ç¥¨é›†æˆ**ï¼šF1-macro = 0.9388ï¼Œæå‡æ˜æ˜¾
- **åŠ æƒé›†æˆ**ï¼šä¸æœ€ä½³å•æ¨¡å‹ç›¸å½“
- **æœ€ä½³å•æ¨¡å‹**ï¼šTomekLinks+SVMï¼ŒF1-macro = 0.8585

### å…³é”®ç»“è®º
- é›†æˆæ–¹æ³•ï¼ˆå°¤å…¶æŠ•ç¥¨é›†æˆï¼‰åœ¨å¤§è§„æ¨¡ç‹¬ç«‹æµ‹è¯•é›†ä¸Šä¾ç„¶èƒ½æ˜¾è‘—æå‡æ€§èƒ½
- è®­ç»ƒ/æµ‹è¯•æ•°æ®å®Œå…¨ç‹¬ç«‹ï¼Œç»“æœæ›´çœŸå®å¯ä¿¡
- é›†æˆæ–¹æ³•é€‚åˆç”Ÿäº§ç¯å¢ƒå’Œé«˜ç²¾åº¦éœ€æ±‚åœºæ™¯

--- 