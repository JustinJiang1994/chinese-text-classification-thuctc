# æ–°é—»åˆ†ç±»æ•°æ®é›†

è¿™æ˜¯ä¸€ä¸ªä¸­æ–‡æ–°é—»åˆ†ç±»æ•°æ®é›†ï¼ŒåŸºäº[THUCNews](http://thuctc.thunlp.org/)æ•°æ®é›†å¤„ç†è€Œæˆã€‚

## æ•°æ®é›†æ¥æº

æœ¬æ•°æ®é›†åŸºäºæ¸…åå¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤å‘å¸ƒçš„[THUCNewsä¸­æ–‡æ–‡æœ¬åˆ†ç±»æ•°æ®é›†](http://thuctc.thunlp.org/)ã€‚THUCNewsæ˜¯æ ¹æ®æ–°æµªæ–°é—»RSSè®¢é˜…é¢‘é“2005~2011å¹´é—´çš„å†å²æ•°æ®ç­›é€‰è¿‡æ»¤ç”Ÿæˆï¼ŒåŒ…å«74ä¸‡ç¯‡æ–°é—»æ–‡æ¡£ï¼ˆ2.19 GBï¼‰ï¼Œå‡ä¸ºUTF-8çº¯æ–‡æœ¬æ ¼å¼ã€‚

### å®Œæ•´æ•°æ®é›†ä¸‹è½½

| æ–‡ä»¶ | æè¿° | å¤§å° | ä¸‹è½½é“¾æ¥ |
|------|------|------|----------|
| THUCNews.zip | THUCNewsä¸­æ–‡æ–‡æœ¬æ•°æ®é›† | 1.56GB | [ä¸‹è½½](http://thuctc.thunlp.org/) |

## æ•°æ®é›†ä¿¡æ¯

- **æ€»æ–‡ä»¶æ•°**: 836,074 ä¸ªæ–°é—»æ–‡ä»¶
- **æ€»ç±»åˆ«æ•°**: 14 ä¸ªæ–°é—»ç±»åˆ«
- **æ€»å­—ç¬¦æ•°**: 785,258,026 ä¸ªå­—ç¬¦
- **å¹³å‡æ¯æ–‡ä»¶å­—ç¬¦æ•°**: 939.2 ä¸ªå­—ç¬¦

## ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ« | æ–‡ä»¶æ•°é‡ | å æ¯” |
|------|----------|------|
| ç§‘æŠ€ | 162,929 | 19.5% |
| è‚¡ç¥¨ | 154,398 | 18.5% |
| ä½“è‚² | 131,603 | 15.7% |
| å¨±ä¹ | 92,632 | 11.1% |
| æ—¶æ”¿ | 63,086 | 7.5% |
| ç¤¾ä¼š | 50,849 | 6.1% |
| æ•™è‚² | 41,936 | 5.0% |
| è´¢ç» | 37,098 | 4.4% |
| å®¶å±… | 32,586 | 3.9% |
| æ¸¸æˆ | 24,373 | 2.9% |
| æˆ¿äº§ | 20,050 | 2.4% |
| æ—¶å°š | 13,368 | 1.6% |
| å½©ç¥¨ | 7,588 | 0.9% |
| æ˜Ÿåº§ | 3,578 | 0.4% |

## æ•°æ®é¢„å¤„ç†ç»“æœ

### æ ·æœ¬æ•°æ®é›†é¢„å¤„ç†ç»“æœ
- **åŸå§‹æ•°æ®é‡**: 70 æ¡
- **æ¸…æ´—åæ•°æ®é‡**: 69 æ¡
- **ç§»é™¤æ•°æ®é‡**: 1 æ¡ (1.4%)
- **è®­ç»ƒé›†**: 48 æ¡ (69.6%)
- **éªŒè¯é›†**: 10 æ¡ (14.5%)
- **æµ‹è¯•é›†**: 11 æ¡ (15.9%)
- **å¤„ç†æ—¶é—´**: 0.39 ç§’

### å®Œæ•´æ•°æ®é›†é¢„å¤„ç†ç»“æœ
- **åŸå§‹æ•°æ®é‡**: 836,074 æ¡
- **æ¸…æ´—åæ•°æ®é‡**: 787,500 æ¡
- **ç§»é™¤æ•°æ®é‡**: 48,574 æ¡ (5.8%)
- **è®­ç»ƒé›†**: 551,249 æ¡ (70.0%)
- **éªŒè¯é›†**: 118,125 æ¡ (15.0%)
- **æµ‹è¯•é›†**: 118,126 æ¡ (15.0%)
- **å¤„ç†æ—¶é—´**: 1,357.29 ç§’ (çº¦22.6åˆ†é’Ÿ)

### å®Œæ•´æ•°æ®é›†ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ« | åŸå§‹æ•°é‡ | æ¸…æ´—åæ•°é‡ | è®­ç»ƒé›† | éªŒè¯é›† | æµ‹è¯•é›† |
|------|----------|------------|--------|--------|--------|
| ä½“è‚² | 131,603 | 125,673 | 88,217 | 18,826 | 18,630 |
| å¨±ä¹ | 92,632 | 88,937 | 62,201 | 13,381 | 13,355 |
| å®¶å±… | 32,586 | 30,903 | 21,559 | 4,770 | 4,574 |
| å½©ç¥¨ | 7,588 | 6,524 | 4,483 | 1,003 | 1,038 |
| æˆ¿äº§ | 20,050 | 18,759 | 13,147 | 2,751 | 2,861 |
| æ•™è‚² | 41,936 | 36,385 | 25,433 | 5,549 | 5,403 |
| æ—¶å°š | 13,368 | 13,185 | 9,316 | 1,939 | 1,930 |
| æ—¶æ”¿ | 63,086 | 60,683 | 42,579 | 8,999 | 9,105 |
| æ˜Ÿåº§ | 3,578 | 3,454 | 2,339 | 519 | 596 |
| æ¸¸æˆ | 24,373 | 23,429 | 16,414 | 3,474 | 3,541 |
| ç¤¾ä¼š | 50,849 | 46,330 | 32,475 | 6,897 | 6,958 |
| ç§‘æŠ€ | 162,929 | 153,043 | 106,972 | 22,982 | 23,089 |
| è‚¡ç¥¨ | 154,398 | 146,601 | 102,658 | 21,981 | 21,962 |
| è´¢ç» | 37,098 | 33,594 | 23,456 | 5,054 | 5,084 |

### æ•°æ®æ¸…æ´—æ•ˆæœ
- **æ•°æ®è´¨é‡**: æ¸…æ´—åä¿ç•™äº†94.2%çš„æ•°æ®
- **ä¸»è¦æ¸…æ´—æ­¥éª¤**:
  - HTMLæ ‡ç­¾å»é™¤
  - URLå’Œé‚®ç®±å»é™¤
  - ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆåªä¿ç•™ä¸­æ–‡å’Œè‹±æ–‡ï¼‰
  - åœç”¨è¯å»é™¤ï¼ˆä½¿ç”¨2,610ä¸ªåœç”¨è¯ï¼‰
  - é•¿åº¦è¿‡æ»¤ï¼ˆ10-2000å­—ç¬¦ï¼‰
  - ç©ºæ–‡æœ¬ç§»é™¤

### æ•°æ®é›†ç‰¹ç‚¹
- **éšæœºç§å­**: 42ï¼ˆç¡®ä¿ç»“æœå¯å¤ç°ï¼‰
- **åˆ‡åˆ†æ–¹å¼**: éšæœºé‡‡æ ·ï¼ˆä¸åˆ†å±‚ï¼‰
- **æ•°æ®å¹³è¡¡æ€§**: å„ç±»åˆ«åœ¨è®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†ä¸­ä¿æŒç›¸å¯¹ä¸€è‡´çš„åˆ†å¸ƒ
- **æ•°æ®è§„æ¨¡**: é€‚åˆå¤§è§„æ¨¡æœºå™¨å­¦ä¹ å®éªŒ

## æ•°æ®æ ¼å¼

### å®Œæ•´æ•°æ®é›†
- **æ–‡ä»¶**: `results/extracted_news_data.csv` (2.0GB)
- **æ ¼å¼**: CSV
- **åˆ—**: 
  - `category`: æ–°é—»ç±»åˆ«æ ‡ç­¾
  - `content`: æ–°é—»å†…å®¹

### æ ·æœ¬æ•°æ®é›†
- **æ–‡ä»¶**: `sample.csv` (132KB)
- **æ ¼å¼**: CSV
- **å†…å®¹**: æ¯ä¸ªç±»åˆ«æŠ½å–5ä¸ªæ ·æœ¬ï¼Œå…±70ä¸ªæ ·æœ¬
- **ç”¨é€”**: ç”¨äºGitHubå±•ç¤ºå’Œå¿«é€Ÿæµ‹è¯•

## æ•°æ®ç¤ºä¾‹

```csv
category,content
ä½“è‚²,"æ˜¥å…°æ¯å†³èµ›æœ‰å¥–ç«çŒœå¯åŠ¨ é€‰æ‹©å† å†›èµ¢å–ç©ºè°ƒå¤§å¥–..."
ç§‘æŠ€,"è¶…å¹¿è§’è”¡å¸é•œå¤´ ç´¢å°¼W530ä»…å”®1168å…ƒ..."
å¨±ä¹,"æŸæ˜æ˜Ÿæœ€æ–°åŠ¨æ€..."
```

## ä½¿ç”¨è¯´æ˜

1. **å®Œæ•´æ•°æ®é›†**: é€‚ç”¨äºè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹
2. **æ ·æœ¬æ•°æ®é›†**: é€‚ç”¨äºå¿«é€Ÿæµ‹è¯•å’Œæ¼”ç¤º

## æ–‡ä»¶ç»“æ„

```
news_classifier/
â”œâ”€â”€ data/                    # åŸå§‹æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ ä½“è‚²/               # ä½“è‚²ç±»æ–°é—»
â”‚   â”œâ”€â”€ ç§‘æŠ€/               # ç§‘æŠ€ç±»æ–°é—»
â”‚   â”œâ”€â”€ stopwords.txt       # åœç”¨è¯æ–‡ä»¶
â”‚   â””â”€â”€ ...                 # å…¶ä»–ç±»åˆ«
â”œâ”€â”€ results/                 # å¤„ç†ç»“æœ
â”‚   â”œâ”€â”€ extracted_news_data.csv  # å®Œæ•´æ•°æ®é›†
â”‚   â”œâ”€â”€ extracted_news_data.json # JSONæ ¼å¼æ•°æ®
â”‚   â”œâ”€â”€ data_cleaned.csv    # æ¸…æ´—åæ•°æ®
â”‚   â”œâ”€â”€ train.csv           # è®­ç»ƒé›†
â”‚   â”œâ”€â”€ val.csv             # éªŒè¯é›†
â”‚   â””â”€â”€ test.csv            # æµ‹è¯•é›†
â”œâ”€â”€ sample.csv              # æ ·æœ¬æ•°æ®é›†
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ data_extractor.py   # æ•°æ®æŠ½å–è„šæœ¬
â”‚   â”œâ”€â”€ create_sample.py    # æ ·æœ¬åˆ›å»ºè„šæœ¬
â”‚   â”œâ”€â”€ data_preprocessor.py # æ•°æ®é¢„å¤„ç†è„šæœ¬
â”‚   â””â”€â”€ run_preprocessing.py # é¢„å¤„ç†è¿è¡Œè„šæœ¬
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ preprocessing_config.json # é¢„å¤„ç†é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. æ•°æ®æŠ½å–

ä½¿ç”¨ `src/data_extractor.py` å¯ä»¥ä»åŸå§‹æ•°æ®ç›®å½•é‡æ–°ç”Ÿæˆå¤„ç†åçš„æ•°æ®é›†ï¼š

```bash
python src/data_extractor.py
```

### 2. æ•°æ®é¢„å¤„ç†

ä½¿ç”¨ `src/run_preprocessing.py` è¿›è¡Œæ•°æ®æ¸…æ´—å’Œåˆ‡åˆ†ï¼š

```bash
# å¤„ç†æ ·æœ¬æ•°æ®
python src/run_preprocessing.py

# å¤„ç†å®Œæ•´æ•°æ®
python src/run_preprocessing.py --use-full
```

### 3. æ ·æœ¬æ•°æ®ç”Ÿæˆ

ä½¿ç”¨ `src/create_sample.py` å¯ä»¥ç”Ÿæˆæ ·æœ¬æ•°æ®ï¼š

```bash
python src/create_sample.py
```

## æ•°æ®é¢„å¤„ç†æµç¨‹

### é¢„å¤„ç†æ­¥éª¤

1. **æ•°æ®æ¸…æ´— (Text Cleaning)**
   - HTMLæ ‡ç­¾å»é™¤
   - URLå’Œé‚®ç®±å»é™¤
   - ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼ˆåªä¿ç•™ä¸­æ–‡å’Œè‹±æ–‡ï¼‰
   - åœç”¨è¯å»é™¤
   - ç©ºæ ¼è§„èŒƒåŒ–

2. **æ•°æ®è¿‡æ»¤ (Text Filtering)**
   - é•¿åº¦è¿‡æ»¤ï¼ˆ10-2000å­—ç¬¦ï¼‰
   - ç©ºæ–‡æœ¬ç§»é™¤

3. **æ•°æ®é›†åˆ‡åˆ† (Data Splitting)**
   - åˆ†å±‚é‡‡æ ·ç¡®ä¿å„ç±»åˆ«æ¯”ä¾‹ä¸€è‡´
   - åˆ‡åˆ†æ¯”ä¾‹ï¼šè®­ç»ƒé›†70% / éªŒè¯é›†15% / æµ‹è¯•é›†15%

### å¯å¤ç°æ€§ä¿è¯

- **éšæœºç§å­**: å›ºå®šä¸º42ï¼Œç¡®ä¿æ‰€æœ‰éšæœºæ“ä½œç»“æœå¯å¤ç°
- **åˆ†å±‚é‡‡æ ·**: ç¡®ä¿å„ç±»åˆ«åœ¨è®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†ä¸­çš„æ¯”ä¾‹ä¸€è‡´
- **é…ç½®ç®¡ç†**: æ‰€æœ‰å‚æ•°éƒ½è®°å½•åœ¨é…ç½®æ–‡ä»¶å’Œç»Ÿè®¡ä¿¡æ¯ä¸­

### è¾“å‡ºæ–‡ä»¶

é¢„å¤„ç†å®Œæˆåï¼Œä¼šåœ¨ `results/` ç›®å½•ä¸‹ç”Ÿæˆï¼š

- `data_cleaned.csv`: æ¸…æ´—åçš„å®Œæ•´æ•°æ®
- `train.csv`: è®­ç»ƒé›†
- `val.csv`: éªŒè¯é›†
- `test.csv`: æµ‹è¯•é›†
- `preprocessing_stats.json`: é¢„å¤„ç†ç»Ÿè®¡ä¿¡æ¯

## ç‰ˆæœ¬æ§åˆ¶è¯´æ˜

### .gitignore é…ç½®

æœ¬é¡¹ç›®é…ç½®äº† `.gitignore` æ–‡ä»¶ï¼Œç¡®ä¿å¤§æ–‡ä»¶å’Œæ•°æ®ä¸ä¼šè¢«ä¸Šä¼ åˆ°GitHubï¼š

#### è¢«å¿½ç•¥çš„æ–‡ä»¶
- **åŸå§‹æ•°æ®ç›®å½•**: `data/` (åŒ…å«836,074ä¸ªæ–‡ä»¶)
- **å¤„ç†ç»“æœ**: `results/extracted_news_data.csv` (2.0GB)
- **JSONæ•°æ®**: `results/extracted_news_data.json` (2.1GB)
- **æ¨¡å‹æ–‡ä»¶**: `models/` ç›®å½•
- **æ—¥å¿—æ–‡ä»¶**: `logs/` ç›®å½•

#### ä¼šè¢«ä¸Šä¼ çš„æ–‡ä»¶
- **æ ·æœ¬æ•°æ®**: `sample.csv` (132KB) - ç”¨äºGitHubå±•ç¤º
- **æºä»£ç **: `src/` ç›®å½•
- **é…ç½®æ–‡ä»¶**: `.gitignore`, `requirements.txt`
- **åœç”¨è¯**: `data/stopwords.txt`

### ä½¿ç”¨å»ºè®®

1. **å¼€å‘æ—¶**: ä½¿ç”¨ `sample.csv` è¿›è¡Œå¿«é€Ÿæµ‹è¯•
2. **è®­ç»ƒæ—¶**: ä½¿ç”¨å®Œæ•´çš„ `results/extracted_news_data.csv`
3. **éƒ¨ç½²æ—¶**: ä»THUCNewså®˜ç½‘ä¸‹è½½å®Œæ•´æ•°æ®é›†

## ç›¸å…³å·¥å…·

- **[THUCTCå·¥å…·åŒ…](http://thuctc.thunlp.org/)**: æ¸…åå¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤å‘å¸ƒçš„ä¸­æ–‡æ–‡æœ¬åˆ†ç±»å·¥å…·åŒ…
- **æµ‹è¯•ç»“æœ**: ä½¿ç”¨THUCTCå·¥å…·åŒ…åœ¨æ­¤æ•°æ®é›†ä¸Šè¿›è¡Œè¯„æµ‹ï¼Œå‡†ç¡®ç‡å¯ä»¥è¾¾åˆ°88.6%

## æ³¨æ„äº‹é¡¹

- æ•°æ®ä¸ºä¸­æ–‡æ–°é—»æ–‡æœ¬
- åŒ…å«æ ‡ç‚¹ç¬¦å·å’Œæ¢è¡Œç¬¦
- é€‚åˆç”¨äºæ–‡æœ¬åˆ†ç±»ä»»åŠ¡
- å»ºè®®ä½¿ç”¨UTF-8ç¼–ç å¤„ç†
- åŸå§‹æ•°æ®æ¥æºäºæ–°æµªæ–°é—»RSSè®¢é˜…é¢‘é“
- ç¡®ä¿åœ¨æäº¤å‰æ£€æŸ¥ `git status` ç¡®è®¤å¤§æ–‡ä»¶è¢«æ­£ç¡®å¿½ç•¥

## å¼•ç”¨

å¦‚æœæ‚¨åœ¨ç ”ç©¶ä¸­ä½¿ç”¨äº†æœ¬æ•°æ®é›†ï¼Œè¯·å¼•ç”¨åŸå§‹THUCNewsæ•°æ®é›†ï¼š

**ä¸­æ–‡ï¼š** å­™èŒ‚æ¾ï¼Œææ™¯é˜³ï¼Œéƒ­å¿—èŠƒï¼Œèµµå®‡ï¼Œéƒ‘äºšæ–Œï¼Œå¸å®ªç­–ï¼Œåˆ˜çŸ¥è¿œ. THUCTCï¼šä¸€ä¸ªé«˜æ•ˆçš„ä¸­æ–‡æ–‡æœ¬åˆ†ç±»å·¥å…·åŒ…. 2016.

**è‹±æ–‡ï¼š** Maosong Sun, Jingyang Li, Zhipeng Guo, Yu Zhao, Yabin Zheng, Xiance Si, Zhiyuan Liu. THUCTC: An Efficient Chinese Text Classifier. 2016.

---

## ä¼ ç»Ÿæœºå™¨å­¦ä¹ å®éªŒç»“æœ

### å®éªŒæ¦‚è¿°

æˆ‘ä»¬ä½¿ç”¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•å¯¹ä¸­æ–‡æ–°é—»åˆ†ç±»ä»»åŠ¡è¿›è¡Œäº†å…¨é¢å®éªŒï¼Œé‡ç‚¹å…³æ³¨ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜çš„å¤„ç†ã€‚å®éªŒä½¿ç”¨äº†10,000ä¸ªæ ·æœ¬è¿›è¡Œå¿«é€ŸéªŒè¯ï¼ŒåŒ…å«14ä¸ªæ–°é—»ç±»åˆ«ã€‚

### ç±»åˆ«ä¸å¹³è¡¡åˆ†æ

#### æ•°æ®é›†ä¸å¹³è¡¡æƒ…å†µ
- **ä¸å¹³è¡¡æ¯”ä¾‹**: 37.40:1 (æœ€å¤§ç±»åˆ«: ç§‘æŠ€ 1,945æ ·æœ¬ vs æœ€å°ç±»åˆ«: æ˜Ÿåº§ 52æ ·æœ¬)
- **ç±»åˆ«åˆ†å¸ƒ**:
  - ä¸»è¦ç±»åˆ«: ç§‘æŠ€(1,945), è‚¡ç¥¨(1,924), ä½“è‚²(1,599), å¨±ä¹(1,093)
  - ä¸­ç­‰ç±»åˆ«: æ—¶æ”¿(768), ç¤¾ä¼š(609), æ•™è‚²(459), è´¢ç»(433), å®¶å±…(395)
  - å°‘æ•°ç±»åˆ«: æ¸¸æˆ(265), æˆ¿äº§(229), æ—¶å°š(158), å½©ç¥¨(71), æ˜Ÿåº§(52)

#### ä¸å¹³è¡¡é—®é¢˜å½±å“
- æ¨¡å‹å€¾å‘äºé¢„æµ‹å¤šæ•°ç±»åˆ«ï¼Œå¿½ç•¥å°‘æ•°ç±»åˆ«
- ä¼ ç»Ÿå‡†ç¡®ç‡æŒ‡æ ‡æ— æ³•åæ˜ çœŸå®æ€§èƒ½
- éœ€è¦ä½¿ç”¨F1-macroç­‰å¹³è¡¡æŒ‡æ ‡è¿›è¡Œè¯„ä¼°

### å®éªŒæ–¹æ³•

#### æœºå™¨å­¦ä¹ ç®—æ³•
1. **æœ´ç´ è´å¶æ–¯ (Naive Bayes)**: åŸºçº¿æ¨¡å‹ï¼Œé€‚åˆæ–‡æœ¬åˆ†ç±»
2. **æ”¯æŒå‘é‡æœº (SVM)**: çº¿æ€§SVMï¼Œä½¿ç”¨ç±»åˆ«æƒé‡å¹³è¡¡
3. **éšæœºæ£®æ— (Random Forest)**: é›†æˆæ–¹æ³•ï¼Œå¤„ç†éçº¿æ€§å…³ç³»
4. **é€»è¾‘å›å½’ (Logistic Regression)**: çº¿æ€§æ¨¡å‹ï¼Œæ˜“äºè§£é‡Š

#### ç±»åˆ«ä¸å¹³è¡¡å¤„ç†æŠ€æœ¯
1. **åŸå§‹æ•°æ®**: ä¸è¿›è¡Œä»»ä½•é‡é‡‡æ ·
2. **SMOTE**: åˆæˆå°‘æ•°ç±»è¿‡é‡‡æ ·æŠ€æœ¯
3. **ADASYN**: è‡ªé€‚åº”åˆæˆé‡‡æ ·
4. **BorderlineSMOTE**: è¾¹ç•ŒSMOTE
5. **éšæœºæ¬ é‡‡æ ·**: éšæœºåˆ é™¤å¤šæ•°ç±»æ ·æœ¬
6. **TomekLinks**: ç§»é™¤è¾¹ç•Œå™ªå£°ç‚¹
7. **EditedNearestNeighbours**: ç¼–è¾‘æœ€è¿‘é‚»
8. **SMOTEENN**: SMOTE + ç¼–è¾‘æœ€è¿‘é‚»
9. **SMOTETomek**: SMOTE + Tomek Links

### å®éªŒç»“æœ

#### æœ€ä½³æ€§èƒ½ç»„åˆ
- **æœ€ä½³æ¨¡å‹**: TomekLinks + SVM
- **F1-macro**: 0.8839
- **F1-weighted**: 0.9232
- **è®­ç»ƒæ—¶é—´**: 0.26ç§’

#### å„é‡é‡‡æ ·æ–¹æ³•æœ€ä½³F1-macroæ’å
| æ’å | é‡é‡‡æ ·æ–¹æ³• | æœ€ä½³F1-macro | å¯¹åº”æ¨¡å‹ |
|------|------------|--------------|----------|
| 1 | TomekLinks | 0.8839 | SVM |
| 2 | åŸå§‹æ•°æ® | 0.8825 | SVM |
| 3 | ADASYN | 0.8825 | SVM |
| 4 | SMOTE | 0.8785 | SVM |
| 5 | SMOTETomek | 0.8785 | SVM |
| 6 | BorderlineSMOTE | 0.8773 | SVM |
| 7 | EditedNearestNeighbours | 0.8581 | SVM |
| 8 | SMOTEENN | 0.8400 | SVM |
| 9 | éšæœºæ¬ é‡‡æ · | 0.7939 | é€»è¾‘å›å½’ |

#### æ¨¡å‹æ€§èƒ½å¯¹æ¯”

##### åŸå§‹æ•°æ®ï¼ˆæ— é‡é‡‡æ ·ï¼‰
| æ¨¡å‹ | F1-macro | F1-weighted | è®­ç»ƒæ—¶é—´(ç§’) |
|------|----------|-------------|--------------|
| SVM | 0.8825 | 0.9268 | 0.54 |
| é€»è¾‘å›å½’ | 0.8698 | 0.9081 | 0.85 |
| éšæœºæ£®æ— | 0.7644 | 0.8169 | 0.68 |
| æœ´ç´ è´å¶æ–¯ | 0.6487 | 0.8173 | 0.01 |

##### SMOTEé‡é‡‡æ ·
| æ¨¡å‹ | F1-macro | F1-weighted | è®­ç»ƒæ—¶é—´(ç§’) |
|------|----------|-------------|--------------|
| SVM | 0.8762 | 0.9237 | 2.39 |
| é€»è¾‘å›å½’ | 0.8689 | 0.9132 | 2.52 |
| æœ´ç´ è´å¶æ–¯ | 0.8453 | 0.8897 | 0.02 |
| éšæœºæ£®æ— | 0.7795 | 0.8215 | 2.58 |

### å…³é”®å‘ç°

#### 1. æ¨¡å‹æ€§èƒ½æ’åº
- **SVMè¡¨ç°æœ€ä½³**: åœ¨æ‰€æœ‰é‡é‡‡æ ·æ–¹æ³•ä¸‹éƒ½è¡¨ç°æœ€å¥½
- **é€»è¾‘å›å½’æ¬¡ä¹‹**: æ€§èƒ½ç¨³å®šï¼Œè®­ç»ƒé€Ÿåº¦è¾ƒå¿«
- **æœ´ç´ è´å¶æ–¯**: åœ¨SMOTEåæ€§èƒ½æ˜¾è‘—æå‡
- **éšæœºæ£®æ—**: å¯¹é‡é‡‡æ ·æ•æ„Ÿï¼Œæ€§èƒ½æ³¢åŠ¨è¾ƒå¤§

#### 2. é‡é‡‡æ ·æ•ˆæœåˆ†æ
- **TomekLinksæœ€æœ‰æ•ˆ**: è½»å¾®æ¸…ç†è¾¹ç•Œå™ªå£°ç‚¹ï¼Œæ€§èƒ½æå‡æœ€æ˜æ˜¾
- **SMOTEç³»åˆ—**: å¯¹æœ´ç´ è´å¶æ–¯æ•ˆæœæ˜¾è‘—ï¼Œå¯¹å…¶ä»–æ¨¡å‹æå‡æœ‰é™
- **æ¬ é‡‡æ ·**: è™½ç„¶å¹³è¡¡äº†æ•°æ®ï¼Œä½†æŸå¤±äº†ä¿¡æ¯ï¼Œæ€§èƒ½ä¸‹é™
- **åŸå§‹æ•°æ®**: åœ¨SVMä¸Šè¡¨ç°å¾ˆå¥½ï¼Œè¯´æ˜ç±»åˆ«æƒé‡è®¾ç½®æœ‰æ•ˆ

#### 3. è®­ç»ƒæ•ˆç‡
- **æœ´ç´ è´å¶æ–¯**: è®­ç»ƒæœ€å¿«ï¼ˆ0.01-0.02ç§’ï¼‰
- **SVM**: ä¸­ç­‰é€Ÿåº¦ï¼ˆ0.26-3.36ç§’ï¼‰
- **é€»è¾‘å›å½’**: ä¸­ç­‰é€Ÿåº¦ï¼ˆ0.18-2.90ç§’ï¼‰
- **éšæœºæ£®æ—**: è¾ƒæ…¢ï¼ˆ0.10-2.88ç§’ï¼‰

#### 4. ç±»åˆ«ä¸å¹³è¡¡å¤„ç†å»ºè®®
- **è½»åº¦ä¸å¹³è¡¡**: ä½¿ç”¨ç±»åˆ«æƒé‡ï¼ˆå¦‚SVMçš„class_weight='balanced'ï¼‰
- **ä¸­åº¦ä¸å¹³è¡¡**: ä½¿ç”¨TomekLinksç­‰è¾¹ç•Œæ¸…ç†æ–¹æ³•
- **é‡åº¦ä¸å¹³è¡¡**: ä½¿ç”¨SMOTEç³»åˆ—è¿‡é‡‡æ ·
- **é¿å…**: éšæœºæ¬ é‡‡æ ·ä¼šæŸå¤±é‡è¦ä¿¡æ¯

### å®éªŒç»“è®º

1. **SVMæ˜¯æœ€ä½³é€‰æ‹©**: åœ¨ä¸­æ–‡æ–°é—»åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œçº¿æ€§SVMé…åˆç±»åˆ«æƒé‡è¡¨ç°æœ€ä½³
2. **TomekLinksæ•ˆæœæ˜¾è‘—**: ç®€å•çš„è¾¹ç•Œæ¸…ç†å°±èƒ½æ˜¾è‘—æå‡æ€§èƒ½
3. **é‡é‡‡æ ·éœ€è°¨æ…**: ä¸æ˜¯æ‰€æœ‰é‡é‡‡æ ·æ–¹æ³•éƒ½èƒ½æå‡æ€§èƒ½
4. **è¯„ä¼°æŒ‡æ ‡é‡è¦**: F1-macroæ¯”å‡†ç¡®ç‡æ›´èƒ½åæ˜ ä¸å¹³è¡¡æ•°æ®çš„çœŸå®æ€§èƒ½

### å®éªŒæ–‡ä»¶

- **å®éªŒç»“æœ**: `results/imbalance_experiment_results.json`
- **å¯è§†åŒ–å›¾è¡¨**: `results/plots/`
  - `sampling_methods_comparison.png`: é‡é‡‡æ ·æ–¹æ³•å¯¹æ¯”
  - `model_performance_comparison.png`: æ¨¡å‹æ€§èƒ½å¯¹æ¯”
  - `best_model_class_performance.png`: æœ€ä½³æ¨¡å‹å„ç±»åˆ«æ€§èƒ½

---

## æ–°æ¶æ„ä½¿ç”¨æ–¹æ³•

### é¡¹ç›®æ¶æ„æ¦‚è¿°

é¡¹ç›®å·²é‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„ï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š

#### æ ¸å¿ƒæ¨¡å—
- `src/experiments.py`: ç»Ÿä¸€çš„å®éªŒç®¡ç†æ¨¡å—
  - `DataProcessor`: æ•°æ®å¤„ç†ç±»
  - `MLExperiment`: æœºå™¨å­¦ä¹ å®éªŒç±»
  - `Visualizer`: å¯è§†åŒ–ç±»
- `src/run_experiments.py`: å‘½ä»¤è¡Œå®éªŒè¿è¡Œå™¨
- `utils/`: å·¥å…·å‡½æ•°åŒ…
  - `utils/data_utils.py`: æ•°æ®å¤„ç†å·¥å…·
  - `utils/model_utils.py`: æ¨¡å‹ç›¸å…³å·¥å…·
  - `utils/visualization_utils.py`: å¯è§†åŒ–å·¥å…·
- `config/experiment_config.json`: å®éªŒé…ç½®æ–‡ä»¶

### å¿«é€Ÿå¼€å§‹

#### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 2. è¿è¡Œå¿«é€Ÿå®éªŒ
```bash
# ä½¿ç”¨é»˜è®¤é…ç½®è¿è¡Œå¿«é€Ÿå®éªŒ
python src/run_experiments.py --experiment quick

# æŒ‡å®šæ ·æœ¬æ•°é‡
python src/run_experiments.py --experiment quick --sample_size 1000
```

#### 3. è¿è¡Œä¸å¹³è¡¡å¤„ç†å®éªŒ
```bash
# è¿è¡Œç±»åˆ«ä¸å¹³è¡¡å®éªŒ
python src/run_experiments.py --experiment imbalance

# æŒ‡å®šæ ·æœ¬æ•°é‡å’Œè¾“å‡ºç›®å½•
python src/run_experiments.py --experiment imbalance --sample_size 5000 --output_dir results/imbalance_test
```

#### 4. è¿è¡Œå®Œæ•´å®éªŒ
```bash
# è¿è¡Œå®Œæ•´å®éªŒï¼ˆä½¿ç”¨å…¨æ•°æ®é›†ï¼‰
python src/run_experiments.py --experiment full

# æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python src/run_experiments.py --experiment full --config config/custom_config.json
```

### å‘½ä»¤è¡Œå‚æ•°

#### é€šç”¨å‚æ•°
- `--experiment`: å®éªŒç±»å‹ (`quick`, `imbalance`, `full`)
- `--sample_size`: æ ·æœ¬æ•°é‡ï¼ˆä»…ç”¨äºquickå’Œimbalanceå®éªŒï¼‰
- `--output_dir`: è¾“å‡ºç›®å½•è·¯å¾„
- `--config`: è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„
- `--random_state`: éšæœºç§å­
- `--verbose`: è¯¦ç»†è¾“å‡ºæ¨¡å¼

#### ç¤ºä¾‹ç”¨æ³•
```bash
# å¿«é€Ÿå®éªŒï¼Œ1000æ ·æœ¬ï¼Œè¯¦ç»†è¾“å‡º
python src/run_experiments.py --experiment quick --sample_size 1000 --verbose

# ä¸å¹³è¡¡å®éªŒï¼Œ5000æ ·æœ¬ï¼Œè‡ªå®šä¹‰è¾“å‡ºç›®å½•
python src/run_experiments.py --experiment imbalance --sample_size 5000 --output_dir results/my_experiment

# å®Œæ•´å®éªŒï¼Œä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python src/run_experiments.py --experiment full --config config/my_config.json
```

### é…ç½®æ–‡ä»¶è¯´æ˜

#### é»˜è®¤é…ç½® (`config/experiment_config.json`)
```json
{
  "data": {
    "data_path": "results/extracted_news_data.csv",
    "text_column": "text",
    "label_column": "category"
  },
  "preprocessing": {
    "max_features": 10000,
    "ngram_range": [1, 2],
    "min_df": 2,
    "max_df": 0.95
  },
  "models": {
    "naive_bayes": {"alpha": 1.0},
    "svm": {"C": 1.0, "class_weight": "balanced"},
    "random_forest": {"n_estimators": 100, "class_weight": "balanced"},
    "logistic_regression": {"C": 1.0, "class_weight": "balanced"}
  },
  "sampling_methods": [
    "original", "smote", "adasyn", "borderline_smote",
    "random_undersampling", "tomek_links", "edited_nearest_neighbours",
    "smote_enn", "smote_tomek"
  ],
  "evaluation": {
    "test_size": 0.15,
    "val_size": 0.15,
    "random_state": 42
  }
}
```

#### è‡ªå®šä¹‰é…ç½®
å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶æ¥è°ƒæ•´å®éªŒå‚æ•°ï¼š
```json
{
  "data": {
    "data_path": "results/my_data.csv",
    "text_column": "content",
    "label_column": "label"
  },
  "preprocessing": {
    "max_features": 5000,
    "ngram_range": [1, 1],
    "min_df": 5,
    "max_df": 0.9
  },
  "models": {
    "svm": {"C": 0.1, "class_weight": "balanced"},
    "logistic_regression": {"C": 0.1, "class_weight": "balanced"}
  },
  "sampling_methods": ["original", "smote", "tomek_links"],
  "evaluation": {
    "test_size": 0.2,
    "val_size": 0.1,
    "random_state": 123
  }
}
```

### ç¼–ç¨‹æ¥å£ä½¿ç”¨

#### ç›´æ¥ä½¿ç”¨å®éªŒæ¨¡å—
```python
from src.experiments import MLExperiment, DataProcessor, Visualizer

# åˆå§‹åŒ–æ•°æ®å¤„ç†å™¨
processor = DataProcessor(
    data_path="results/extracted_news_data.csv",
    text_column="text",
    label_column="category"
)

# åŠ è½½å’Œé¢„å¤„ç†æ•°æ®
X_train, X_val, X_test, y_train, y_val, y_test = processor.load_and_preprocess(
    sample_size=1000,
    test_size=0.15,
    val_size=0.15
)

# åˆå§‹åŒ–å®éªŒ
experiment = MLExperiment(
    models=['svm', 'logistic_regression'],
    sampling_methods=['original', 'smote', 'tomek_links']
)

# è¿è¡Œå®éªŒ
results = experiment.run_experiment(
    X_train, X_val, X_test, y_train, y_val, y_test
)

# å¯è§†åŒ–ç»“æœ
visualizer = Visualizer()
visualizer.plot_results(results, save_dir="results/plots")
```

#### ä½¿ç”¨å·¥å…·å‡½æ•°
```python
from utils.data_utils import load_data, preprocess_text
from utils.model_utils import train_model, evaluate_model
from utils.visualization_utils import plot_confusion_matrix

# åŠ è½½æ•°æ®
data = load_data("results/extracted_news_data.csv")

# é¢„å¤„ç†æ–‡æœ¬
processed_data = preprocess_text(data, text_column="text")

# è®­ç»ƒæ¨¡å‹
model = train_model(processed_data, model_type="svm")

# è¯„ä¼°æ¨¡å‹
metrics = evaluate_model(model, X_test, y_test)

# å¯è§†åŒ–
plot_confusion_matrix(y_true, y_pred, save_path="confusion_matrix.png")
```

### è¾“å‡ºæ–‡ä»¶

å®éªŒå®Œæˆåä¼šåœ¨æŒ‡å®šç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

#### ç»“æœæ–‡ä»¶
- `experiment_results.json`: è¯¦ç»†å®éªŒç»“æœ
- `best_model.pkl`: æœ€ä½³æ¨¡å‹æ–‡ä»¶
- `feature_names.pkl`: ç‰¹å¾åç§°æ–‡ä»¶

#### å¯è§†åŒ–æ–‡ä»¶
- `sampling_methods_comparison.png`: é‡é‡‡æ ·æ–¹æ³•å¯¹æ¯”
- `model_performance_comparison.png`: æ¨¡å‹æ€§èƒ½å¯¹æ¯”
- `best_model_class_performance.png`: æœ€ä½³æ¨¡å‹å„ç±»åˆ«æ€§èƒ½
- `confusion_matrix.png`: æ··æ·†çŸ©é˜µ

### æ‰©å±•æ–°åŠŸèƒ½

#### æ·»åŠ æ–°æ¨¡å‹
```python
# åœ¨ config/experiment_config.json ä¸­æ·»åŠ 
{
  "models": {
    "xgboost": {
      "n_estimators": 100,
      "max_depth": 6,
      "learning_rate": 0.1
    }
  }
}

# åœ¨ src/experiments.py çš„ MLExperiment ç±»ä¸­æ·»åŠ 
def _get_xgboost_model(self, params):
    from xgboost import XGBClassifier
    return XGBClassifier(**params)
```

#### æ·»åŠ æ–°é‡é‡‡æ ·æ–¹æ³•
```python
# åœ¨ config/experiment_config.json ä¸­æ·»åŠ 
{
  "sampling_methods": ["original", "smote", "new_method"]
}

# åœ¨ src/experiments.py çš„ MLExperiment ç±»ä¸­æ·»åŠ 
def _apply_new_method(self, X, y):
    # å®ç°æ–°çš„é‡é‡‡æ ·æ–¹æ³•
    return X_resampled, y_resampled
```

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜
1. **å†…å­˜ä¸è¶³**: å‡å°‘ `sample_size` æˆ– `max_features`
2. **è®­ç»ƒæ—¶é—´è¿‡é•¿**: ä½¿ç”¨æ›´å°‘çš„æ¨¡å‹æˆ–é‡é‡‡æ ·æ–¹æ³•
3. **é…ç½®æ–‡ä»¶é”™è¯¯**: æ£€æŸ¥JSONæ ¼å¼å’Œå‚æ•°åç§°

#### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†è¾“å‡º
python src/run_experiments.py --experiment quick --verbose

# ä½¿ç”¨å°æ ·æœ¬å¿«é€Ÿæµ‹è¯•
python src/run_experiments.py --experiment quick --sample_size 100
```

### è¿ç§»æŒ‡å—

#### ä»æ—§ç‰ˆæœ¬è¿ç§»
1. **æ—§è„šæœ¬**: `src/traditional_ml_experiments.py` (å·²å¼ƒç”¨)
2. **æ–°æ–¹å¼**: ä½¿ç”¨ `src/run_experiments.py --experiment full`
3. **é…ç½®è¿ç§»**: å°†å‚æ•°ä»æ—§è„šæœ¬å¤åˆ¶åˆ° `config/experiment_config.json`

#### å…¼å®¹æ€§
- æ—§çš„æ•°æ®æ ¼å¼ä»ç„¶æ”¯æŒ
- æ—§çš„è¾“å‡ºæ ¼å¼ä¿æŒå…¼å®¹
- å¯ä»¥é€æ­¥è¿ç§»åˆ°æ–°æ¶æ„

---

## é¡¹ç›®çŠ¶æ€

âœ… **å·²å®ŒæˆåŠŸèƒ½**
- æ•°æ®æå–å’Œé¢„å¤„ç†
- ä¼ ç»Ÿæœºå™¨å­¦ä¹ å®éªŒ
- ç±»åˆ«ä¸å¹³è¡¡å¤„ç†
- æ¨¡å—åŒ–æ¶æ„é‡æ„
- é…ç½®é©±åŠ¨å®éªŒ
- å¯è§†åŒ–å·¥å…·

ğŸ”„ **è¿›è¡Œä¸­**
- æ·±åº¦å­¦ä¹ å®éªŒå‡†å¤‡
- æ¨¡å‹ä¼˜åŒ–å’Œè°ƒå‚

ğŸ“‹ **è®¡åˆ’ä¸­**
- æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆBERT, RoBERTaç­‰ï¼‰
- æ¨¡å‹éƒ¨ç½²å’ŒAPI
- å®æ—¶é¢„æµ‹æœåŠ¡ 